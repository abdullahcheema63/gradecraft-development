@import "../utilities/variables"
@import "../utilities/mixins"

/* Add the sprite to the assignment expand */
.collapse
  margin: 0

.collapse-toggler .fa-chevron-circle-right
  padding-right: 0
  transition: all 0.25s
  transform: rotate(90deg)

.collapse-toggler.collapsed .fa-chevron-circle-right
  transform: rotate(0deg)

.collapse .fa-chevron-circle-right
  padding-right: 0
  transition: all 0.25s
  transform: rotate(0deg)

.collapse.open .fa-chevron-circle-right
  transform: rotate(90deg)


/* ACCORDIONS - New; maybe we'll use this throughout?  */
.accordion
  background-color: white

  & > h3
    position: relative
    color: $blue-medium_1
    border-bottom: 2px solid $blue-medium_2
    cursor: pointer
    padding: 1em 5% 1em calc(5% + 2em)
    margin: 0
    transition: all 0.3s

    span
      position: absolute
      left: 5%
      top: 1em
      background: url(asset_path("icon-arrow_next.svg")) no-repeat center center
      background-size: contain
      width: 1.25em
      height: 1.25em
      display: block
      transform: rotate(90deg)
      transition: all 0.3s

      @include mobile-xl
        left: 3%

    &.open
      color: $pink_1
      border-color: transparent

      span
        background: url(asset_path("icon-arrow_next_action.svg")) no-repeat center center
        background-size: contain
        transform: rotate(-90deg)

    @include mobile-xl
      padding: 1em 3% 1em calc(3% + 2em)

  & > div
    padding: 0
    overflow: hidden

    &.is-closed
      max-height: 0
      //transition: all 0.4s

    &.is-open
      max-height: 100%
      border-bottom: 2px solid $grey_1
      //transition: all ease-in 0.4s

    & > div
      padding: 1em 5% 2em 5%

      @include mobile-xl
        padding: 1em 3% 2em 3%

  &.locked
    h3
      cursor: not-allowed
      color: $grey_3

      span
        background: url(asset_path("icon-lock_locked.svg")) no-repeat center center
        background-size: contain
        transform: none
        width: 1.6em
        height: 1.6em

  /* The Guide */
  &.guide
    max-width: 800px

    h3
      background: url(asset_path("icon-guide.svg")) no-repeat center left
      background-size: auto 2em
      border-bottom: 0px solid transparent
      position: relative
      z-index: 10

      span
        background: white url(asset_path("icon-arrow_next_action.svg")) no-repeat center center
        background-size: contain
        transform: rotate(90deg)
        top: 0.3em
        left: auto
        right: -0.7em
        border: 2px solid $pink_2
        border-radius: 50%
        z-index: 10

        @include mobile
          right: -1px

      &:after
        content: ''
        display: block
        position: absolute
        height: 3px
        left: 1.75em
        right: 0
        background-color: $blue_dark

      &.open
        span
          background: white url(asset_path("icon-arrow_next_action.svg")) no-repeat center center
          background-size: contain
          transform: rotate(-90deg)

    p
      margin: 0

    em, i
      font-family: 'ProximaNova_regular-italic', sans-serif

    & > div
      background-color: $blue-medium_2
      border-radius: 0 0 $radius-large $radius-large
      margin: 0 0 0 2.5em
      box-sizing: border-box
      transform: translate(0, -1em)
      color: white
      font-family: 'ProximaNova_regular', sans-serif

      &.is-closed
        max-height: 0
        transition: all 0.4s

      &.is-open
        max-height: 400px
        transition: all ease-in 0.4s

      & > div
        padding: 1em

    &.hiding
      display: none

  /* Accordions within tables */
  &.in_table
    .row_heading
      display: flex
      padding: 1em 0.4em
      box-sizing: border-box
      border-bottom: 1px solid $blue-medium_2
      cursor: pointer

      & > h3
        width: 50%
        position: relative
        color: $blue-medium_1
        margin: 0
        padding-left: 2em
        box-sizing: border-box
        transition: all 0.3s

        span
          position: absolute
          left: 0
          top: 0
          background: url(asset_path("icon-arrow_next_action.svg")) no-repeat center center
          background-size: contain
          width: 1.25em
          height: 1.25em
          display: block
          transform: rotate(90deg)
          transition: all 0.3s

      p
        margin: 0

        &.date
          width: 200px
          padding-left: 0.4em

      &.open
        border-color: transparent
        background-color: $blue_dark
        color: white
        font-family: 'ProximaNova_regular', sans-serif

        & > h3
          color: white

          span
            background: url(asset_path("icon-arrow_next_action.svg")) no-repeat center center
            background-size: contain
            transform: rotate(-90deg)

    & > div
      &.is-open
        border-bottom: 2px solid $blue_dark

      .content
        padding: 0
        display: flex

        p
          margin: 0 0 0.25em 0

        & > div
          padding: 1.25em
          width: 50%
          box-sizing: border-box

          &:first-of-type
            background: $bg-yellow
